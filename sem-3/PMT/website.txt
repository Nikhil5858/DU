https://www.make.com/en

https://miro.com/?gclsrc=aw.ds&&utm_source=google&utm_medium=cpc&utm_campaign=S|GOO|BRN|IN|EN-EN|Brand|Exact&utm_adgroup=&adgroupid=140666061493&utm_custom=18259414538&utm_content=668037310463&utm_term=miro&matchtype=e&device=c&location=9180483&gad_source=1&gad_campaignid=18259414538&gclid=EAIaIQobChMI05XZ9aTZjQMVjxuDAx3bgSkDEAAYASAAEgKnE_D_BwE

https://phantombuster.com/

courier management system

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










-- Appointment Procedures
CREATE OR ALTER PROC [dbo].[sp_Appointment_Delete]
    @AppointmentID INT
AS
BEGIN
    DELETE FROM Appointment WHERE AppointmentID = @AppointmentID
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Appointment_Insert]
    @DoctorID INT,
    @PatientID INT,
    @AppointmentDate DATETIME,
    @AppointmentStatus NVARCHAR(20),
    @Description NVARCHAR(250),
    @SpecialRemarks NVARCHAR(100),
    @UserID INT,
    @TotalConsultedAmount DECIMAL(5,2) = NULL
AS
BEGIN
    INSERT INTO Appointment (DoctorID, PatientID, AppointmentDate, AppointmentStatus, Description, SpecialRemarks, Created, Modified, UserID, TotalConsultedAmount)
    VALUES (@DoctorID, @PatientID, @AppointmentDate, @AppointmentStatus, @Description, @SpecialRemarks, GETDATE(), GETDATE(), @UserID, @TotalConsultedAmount)
END
GO

CREATE OR ALTER PROC [dbo].[sp_Appointment_select]

AS
BEGIN
   SELECT A.AppointmentID, A.AppointmentDate, A.AppointmentStatus, A.Description, A.SpecialRemarks,
       A.TotalConsultedAmount, A.Created, A.Modified,
       D.Name AS DoctorName,D.Specialization AS DoctorSpecialization,P.Email AS PatientEmail,P.Name AS PatientName, U.UserName
	FROM Appointment A
	INNER JOIN Doctor D ON A.DoctorID = D.DoctorID
	INNER JOIN Patient P ON A.PatientID = P.PatientID
	INNER JOIN [User] U ON A.UserID = U.UserID
	ORDER BY A.AppointmentDate
END
GO

ALTER PROCEDURE [dbo].[sp_Appointment_selectById]
    @AppointmentID INT
AS
BEGIN
    SELECT 
        A.AppointmentID, 
        A.DoctorID, 
        D.Name AS DoctorName,
        A.PatientID,
        P.Name AS PatientName,
        A.AppointmentDate, 
        A.AppointmentStatus,
        A.Description, 
        A.SpecialRemarks, 
        A.TotalConsultedAmount, 
        A.Created, 
        A.Modified, 
        A.UserID,
        U.UserName,
        U.Email AS PatientEmail
    FROM Appointment A
    INNER JOIN Doctor D ON A.DoctorID = D.DoctorID
    INNER JOIN Patient P ON A.PatientID = P.PatientID
    INNER JOIN [User] U ON A.UserID = U.UserID
    WHERE A.AppointmentID = @AppointmentID
END
GO

CREATE OR ALTER PROCEDURE sp_Appointment_Update
    @AppointmentID INT,
    @DoctorID INT,
    @PatientID INT,
    @AppointmentDate DATETIME,
    @AppointmentStatus NVARCHAR(50),
    @Description NVARCHAR(200),
    @SpecialRemarks NVARCHAR(200),
    @TotalConsultedAmount INT
AS
BEGIN
    UPDATE Appointment
    SET
        DoctorID = @DoctorID,
        PatientID = @PatientID,
        AppointmentDate = @AppointmentDate,
        AppointmentStatus = @AppointmentStatus,
        Description = @Description,
        SpecialRemarks = @SpecialRemarks,
        Modified = GETDATE()
    WHERE AppointmentID = @AppointmentID
END

create or alter proc sp_Appointment_TodaysAppointment
as
begin 
	select D.Name AS DoctorName,P.Name AS PatientName,A.AppointmentDate,A.AppointmentStatus
	from Appointment A
	inner join Doctor D on D.DoctorID=A.DoctorID
	inner join Patient P on P.PatientID=A.PatientID
	where CAST(A.AppointmentDate AS DATE) = CAST(GETDATE() AS DATE)
END

EXEC sp_Appointment_TodaysAppointment



-- Department Procedures
CREATE OR ALTER PROC [dbo].[sp_Department_Delete]
    @DepartmentID int
as
begin
    delete from Department where DepartmentID=@DepartmentID
end
GO

CREATE OR ALTER PROC [dbo].[sp_Department_Insert]
    @DepartmentName nvarchar(100),
    @Description nvarchar(250),
    @IsActive bit = 1,
    @UserID int
as
begin
    insert into Department(DepartmentName,[Description],IsActive,Created,Modified,UserID)
    values (@DepartmentName,@Description,@IsActive,GETDATE(),GETDATE(),@UserID)
end
GO

CREATE OR ALTER PROC [dbo].[sp_Department_Select]
as 
begin
    SELECT D.DepartmentID, D.DepartmentName, D.Description, D.IsActive, D.Created, D.Modified, U.UserName
    FROM Department D
    INNER JOIN [User] U ON D.UserID = U.UserID
    ORDER BY D.DepartmentName
end
GO

CREATE OR ALTER PROC [dbo].[sp_Department_SelectById]
    @DepartmentID int
as 
begin
    SELECT D.DepartmentID, D.DepartmentName, D.Description, D.IsActive, D.Created, D.Modified, U.UserName
    FROM Department D
    INNER JOIN [User] U ON D.UserID = U.UserID
    WHERE D.DepartmentID = @DepartmentID
    ORDER BY D.DepartmentName    
end
GO

CREATE OR ALTER PROC [dbo].[sp_Department_Update]
    @DepartmentID int,
    @DepartmentName nvarchar(100),
    @Description nvarchar(250),
    @IsActive bit = 1,
    @UserID int
as
begin
    update Department set DepartmentName=@DepartmentName,[Description]=@Description,IsActive=@IsActive,Modified=GETDATE(),UserID=@UserID
    where DepartmentID= @DepartmentID
end
GO

-- DepartmentDoctor Procedures


USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_DoctorDepartment_SelectByUserID]    Script Date: 23-07-2025 7.16.59 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER   PROCEDURE [dbo].[sp_DoctorDepartment_SelectByUserID]
AS
BEGIN
     SELECT 
        dd.DoctorDepartmentID,
	dd.DoctorID,    
        dd.DepartmentID,  
        doc.Name AS DoctorName,
        dept.DepartmentName
    FROM 
        DoctorDepartment dd
    INNER JOIN Doctor doc ON doc.DoctorID = dd.DoctorID
    INNER JOIN Department dept ON dept.DepartmentID = dd.DepartmentID
END




USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_DoctorDepartment_Insert]    Script Date: 23-07-2025 7.17.26 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[sp_DoctorDepartment_Insert]
    @DoctorID INT,
    @DepartmentID INT,
    @UserID INT
AS
BEGIN
    INSERT INTO DoctorDepartment (DoctorID, DepartmentID, Created, Modified, UserID)
    VALUES (@DoctorID, @DepartmentID, GETDATE(), GETDATE(), @UserID)
END




USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_DoctortoDepartment_Delete]    Script Date: 23-07-2025 7.17.44 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER proc [dbo].[sp_DoctortoDepartment_Delete]
    @DoctorDepartmentID INT
AS
BEGIN
    DELETE FROM DoctorDepartment WHERE DoctorDepartmentID = @DoctorDepartmentID
END




USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_Doctor_Department_Update]    Script Date: 23-07-2025 7.17.59 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER   PROCEDURE [dbo].[sp_Doctor_Department_Update]
    @DoctorDepartmentID INT,
    @DoctorID INT,
    @DepartmentID INT
AS
BEGIN
    UPDATE DoctorDepartment
    SET 
        DoctorID = @DoctorID,
        DepartmentID = @DepartmentID
    WHERE DoctorDepartmentID = @DoctorDepartmentID
END



USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_DoctorDepartment_SelectByID]    Script Date: 23-07-2025 7.18.12 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER   PROCEDURE [dbo].[sp_DoctorDepartment_SelectByID]
    @DoctorDepartmentID INT
AS
BEGIN
    SELECT DoctorDepartmentID, DoctorID, DepartmentID, UserID
    FROM DoctorDepartment
    WHERE DoctorDepartmentID = @DoctorDepartmentID
END


USE [HMS]
GO
/****** Object:  StoredProcedure [dbo].[sp_DoctorDepartment_GetDropdownData]    Script Date: 23-07-2025 7.18.39 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER   PROCEDURE [dbo].[sp_DoctorDepartment_GetDropdownData]
AS
BEGIN
    -- First result set: All doctors
    SELECT DoctorID, Name AS DoctorName FROM Doctor;

    -- Second result set: All departments
    SELECT DepartmentID, DepartmentName FROM Department;
END



-- Doctor Procedures
CREATE OR ALTER PROCEDURE [dbo].[sp_Doctor_Delete]
    @DoctorID INT
AS
BEGIN
    DELETE FROM Doctor WHERE DoctorID = @DoctorID
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Doctor_Insert]
    @Name NVARCHAR(100),
    @Phone NVARCHAR(20),
    @Email NVARCHAR(100),
    @Qualification NVARCHAR(100),
    @Specialization NVARCHAR(100),
    @IsActive BIT = 1,
    @UserID INT
AS
BEGIN
    INSERT INTO Doctor (Name, Phone, Email, Qualification, Specialization, IsActive, Created, Modified, UserID)
    VALUES (@Name, @Phone, @Email, @Qualification, @Specialization, @IsActive, GETDATE(), GETDATE(), @UserID)
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Doctor_Select]
AS
BEGIN
    SELECT D.DoctorID, D.Name, D.Phone, D.Email, D.Qualification, D.Specialization, D.IsActive, D.Created, D.Modified, U.UserName
    FROM Doctor D
    INNER JOIN [User] U ON D.UserID = U.UserID
    ORDER BY D.Name
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Doctor_SelectById]
    @DoctorID INT
AS
BEGIN
    SELECT D.DoctorID, D.Name, D.Phone, D.Email, D.Qualification, D.Specialization, D.IsActive, D.Created, D.Modified, U.UserName
    FROM Doctor D
    INNER JOIN [User] U ON D.UserID = U.UserID
    WHERE D.DoctorID = @DoctorID
    ORDER BY D.Name
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Doctor_Update]
    @DoctorID INT,
    @Name NVARCHAR(100),
    @Phone NVARCHAR(20),
    @Email NVARCHAR(100),
    @Qualification NVARCHAR(100),
    @Specialization NVARCHAR(100),
    @IsActive BIT,
    @UserID INT
AS
BEGIN
    UPDATE Doctor
    SET Name = @Name,
        Phone = @Phone,
        Email = @Email,
        Qualification = @Qualification,
        Specialization = @Specialization,
        IsActive = @IsActive,
        Modified = GETDATE(),
        UserID = @UserID
    WHERE DoctorID = @DoctorID
END
GO

-- Patient Procedures
CREATE OR ALTER PROC [dbo].[sp_Patient_Delete]
    @PatientID INT
AS
BEGIN
    DELETE FROM Patient WHERE PatientID = @PatientID
END
GO

CREATE OR ALTER PROC [dbo].[sp_Patient_Insert]
    @Name NVARCHAR(100),
    @DateOfBirth DATETIME,
    @Gender NVARCHAR(10),
    @Email NVARCHAR(100),
    @Phone NVARCHAR(100),
    @Address NVARCHAR(250),
    @City NVARCHAR(100),
    @State NVARCHAR(100),
    @IsActive BIT = 1,
    @UserID INT
AS
BEGIN
    INSERT INTO Patient (Name, DateOfBirth, Gender, Email, Phone, Address, City, State, IsActive, Created, Modified, UserID)
    VALUES (@Name, @DateOfBirth, @Gender, @Email, @Phone, @Address, @City, @State, @IsActive, GETDATE(), GETDATE(), @UserID)
END
GO

CREATE OR ALTER PROC [dbo].[sp_Patient_Update]
    @PatientID INT,
    @Name NVARCHAR(100),
    @DateOfBirth DATETIME,
    @Gender NVARCHAR(10),
    @Email NVARCHAR(100),
    @Phone NVARCHAR(100),
    @Address NVARCHAR(250),
    @City NVARCHAR(100),
    @State NVARCHAR(100),
    @IsActive BIT,
    @UserID INT
AS
BEGIN
    UPDATE Patient
    SET Name = @Name,
        DateOfBirth = @DateOfBirth,
        Gender = @Gender,
        Email = @Email,
        Phone = @Phone,
        Address = @Address,
        City = @City,
        State = @State,
        IsActive = @IsActive,
        Modified = GETDATE(),
        UserID = @UserID
    WHERE PatientID = @PatientID
END
GO

CREATE OR ALTER PROC [dbo].[sp_Patients_Select]
AS
BEGIN
    SELECT P.PatientID, P.Name, P.DateOfBirth, P.Gender, P.Email, P.Phone, P.Address, P.City, P.State,
       P.IsActive, P.Created, P.Modified, U.UserName
    FROM Patient P
    INNER JOIN [User] U ON P.UserID = U.UserID
    ORDER BY P.Name
END
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Patients_SelectById]
    @PatientID INT
AS
BEGIN
    SELECT P.PatientID, P.Name, P.DateOfBirth, P.Gender, P.Email, P.Phone, P.Address, P.City, P.State,
       P.IsActive, P.Created, P.Modified, P.UserID
    FROM Patient P
    WHERE P.PatientID = @PatientID
    ORDER BY P.Name
END
GO

-- User Procedures
CREATE OR ALTER PROC [dbo].[sp_Users_Delete]
    @UserId INT
as 
begin
    delete from [User] where UserID=@UserId
end
GO

CREATE OR ALTER PROC [dbo].[SP_Users_Insert]
    @UserName NVARCHAR(100),
    @Password NVARCHAR(100),
    @Email NVARCHAR(100),
    @MobileNo NVARCHAR(100),
    @IsActive BIT = 1
as
begin
    insert into [User](UserName,Password,Email,MobileNo,IsActive,Created,Modified)
    values(@UserName,@Password,@Email,@MobileNo,@IsActive,GETDATE(),GETDATE())
end
GO

CREATE OR ALTER PROC [dbo].[SP_Users_Select]
as
begin
    select [UserID],[UserName],[Password],[Email],[MobileNo],[IsActive],[Created],[Modified]
    from [User]
    ORDER BY UserName
end
GO

CREATE OR ALTER PROC [dbo].[SP_Users_SelectById]
    @userid int
as
begin
    select UserID, UserName, Password, Email, MobileNo, IsActive, Created, Modified from [User] where UserID = @userid
    ORDER BY UserName
end
GO

CREATE OR ALTER PROCEDURE [dbo].[sp_Users_Update]
    @UserID INT,
    @UserName NVARCHAR(100),
    @Password NVARCHAR(100),
    @Email NVARCHAR(100),
    @MobileNo NVARCHAR(100),
    @IsActive BIT
AS
BEGIN
    UPDATE [User]
    SET UserName = @UserName,Password = @Password,Email = @Email,MobileNo = @MobileNo,IsActive = @IsActive,Modified = GETDATE()
    WHERE UserID = @UserID
END
GO

CREATE OR ALTER PROCEDURE [dbo].[SP_User_Login]
    @Email NVARCHAR(100),
    @Password NVARCHAR(100)
AS
BEGIN
    SELECT Email, Password 
    FROM [User]
    WHERE Email = @Email AND Password = @Password
END
GO

